<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body> 
    <script>
      document.querySelector("body").id = "root";      

      const button = document.createElement('button');
      button.appendChild(document.createTextNode('click'));
      document.getElementById("root").appendChild(button);      
      document.querySelector("button").id = "button";


      const div1 = document.createElement('div');      
      document.getElementById("root").appendChild(div1);
      div1.id = "roulette"

      const roulette1 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette1)
      roulette1.id = "roulette1"
      const roulette2 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette2)
      roulette2.id = "roulette2"
      const roulette3 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette3)
      roulette3.id = "roulette3"
      const roulette4 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette4)
      roulette4.id = "roulette4"
      const roulette5 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette5)
      roulette5.id = "roulette5"
      const roulette6 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette6)
      roulette6.id = "roulette6"
      const roulette7 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette7)
      roulette7.id = "roulette7"
      const roulette8 = document.createElement('div');
      document.getElementById("roulette").appendChild(roulette8)
      roulette8.id = "roulette8"

      
      
      const div2 = document.createElement('div');      
      document.getElementById("root").appendChild(div2);
      div2.id = "ball"

      

      /*태그 생성 성공 코드 (딥다이브 참고했음)*/

      
      console.log(document.getElementById("root"));
      let bodySet=document.getElementById("root");
      /*바디의 요소 정보 Get*/
      bodySet.style.margin = 0;
      bodySet.style.padding = 0;
      bodySet.style.boxSizing = "borderBox";
      bodySet.style.width = "100vw";
      bodySet.style.height = "100vh";
      bodySet.style.display = "flex";
      bodySet.style.justifyContent = "center";
      bodySet.style.alignItems = "center";
      bodySet.style.background = "linear-gradient(lightCyan, skyBlue, deepSkyBlue)";
      /*<body> 스타일링*/

      

      console.log(document.querySelector("#button"));
      let clickButton = document.querySelector("#button");
      /*<button>의 요소정보 get*/

      clickButton.style.backgroundColor = "#333"
      clickButton.style.width = "52px";
      clickButton.style.height = "52px";
      clickButton.style.borderRadius = "50%";
      clickButton.style.color = "#fff"
      clickButton.style.position = "absolute";
      /*<button>스타일링*/

      clickButton.style.cursor = "pointer";
      
      clickButton.addEventListener("mouseover",function(event){

        
        event.target.style.transform = "scale(1.5)"
        event.target.style.transition = "all 0.1s"        
        
      });
      clickButton.addEventListener("mouseout",function(event){

        event.target.style.transform = "scale(1)"
        event.target.style.transition = "all 0.1s"
        
        
      });
      /*마우스 오버시에 이벤트 효과 부여*/
      

      console.log(document.getElementById("roulette"));
      let roulette =document.getElementById("roulette");
      roulette.style.position = "absolute";
      roulette.style.visibility = "hidden";
      roulette.style.cursor = "pointer";
      roulette.style.width = "300px";
      roulette.style.height = "300px";
      roulette.style.backgroundColor = "gray";
      roulette.style.borderRadius = "50%";
      roulette.style.overflow= "hidden";

      /*룰렛 태그 스타일링*/
      

      let piece1 = document.getElementById("roulette1");
      piece1.style.width = "300px";
      piece1.style.height = "300px";
      piece1.style.borderRadius = "50%"
      piece1.style.position = "absolute";
      piece1.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece1.style.backgroundColor = "darkred";
      piece1.style.transform = "rotate(45deg)";

      let piece2 = document.getElementById("roulette2");
      piece2.style.width = "300px";
      piece2.style.height = "300px";
      piece2.style.borderRadius = "50%"
      piece2.style.position = "absolute";
      piece2.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece2.style.backgroundColor = "darkblue";
      piece2.style.transform = "rotate(90deg)";

      let piece3 = document.getElementById("roulette3");
      piece3.style.width = "300px";
      piece3.style.height = "300px";
      piece3.style.borderRadius = "50%"
      piece3.style.position = "absolute";
      piece3.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece3.style.backgroundColor = "gray";
      piece3.style.transform = "rotate(135deg)";

      let piece4 = document.getElementById("roulette4");
      piece4.style.width = "300px";
      piece4.style.height = "300px";
      piece4.style.borderRadius = "50%"
      piece4.style.position = "absolute";
      piece4.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece4.style.backgroundColor = "skyblue";
      piece4.style.transform = "rotate(180deg)";

      let piece5 = document.getElementById("roulette5");
      piece5.style.width = "300px";
      piece5.style.height = "300px";
      piece5.style.borderRadius = "50%"
      piece5.style.position = "absolute";
      piece5.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece5.style.backgroundColor = "salmon";
      piece5.style.transform = "rotate(225deg)";

      let piece6 = document.getElementById("roulette6");
      piece6.style.width = "300px";
      piece6.style.height = "300px";
      piece6.style.borderRadius = "50%"
      piece6.style.position = "absolute";
      piece6.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece6.style.backgroundColor = "green";
      piece6.style.transform = "rotate(270deg)";

      let piece7 = document.getElementById("roulette7");
      piece7.style.width = "300px";
      piece7.style.height = "300px";
      piece7.style.borderRadius = "50%"
      piece7.style.position = "absolute";
      piece7.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece7.style.backgroundColor = "cadetblue";
      piece7.style.transform = "rotate(315deg)";

      let piece8 = document.getElementById("roulette8");
      piece8.style.width = "300px";
      piece8.style.height = "300px";
      piece8.style.borderRadius = "50%"
      piece8.style.position = "absolute";
      piece8.style.clipPath = "polygon(0% 0%, 50% 50%, 0% 50%, 0% 0%)"
      piece8.style.backgroundColor = "pink";
      piece8.style.transform = "rotate(360deg)";
      /*룰렛 조각들 스타일링*/

      


      

      console.log(document.getElementById("ball"));
      let ballTag = document.getElementById("ball");
      ballTag.style.position = "absolute";
      ballTag.style.left ="0";
      ballTag.style.top = "0";
      ballTag.style.width = "40px";
      ballTag.style.height = "40px";
      ballTag.style.borderRadius = "50%";
      ballTag.style.backgroundColor = "black";
      ballTag.style.color = "white";
      ballTag.style.transition = "all 1s";
      ballTag.style.display = "none";
      ballTag.style.cursor = "pointer";
      ballTag.style.backgroundImage = 'url("https://img.freepik.com/premium-psd/soccer-football-ball_118047-2366.jpg")';
      ballTag.style.backgroundRepeat = "norepeat";
      ballTag.style.backgroundSize = "100% 100%";
      /*<div id = ball> 태그 스타일링*/


      let isSwitch = true;
        /*순환을 위한 스위치변수 선언 true 설정 부여*/


      clickButton.addEventListener("click",function(){
        /*첫번째 클릭 이벤트*/
        if(isSwitch === true){
          /*클릭했을때 isSwitch 가 참이면 flase로 설정값을 바꾸고 룰렛태그를 보이게, 버튼태그를 숨기도록 설정*/

          isSwitch = false;
          roulette.style.visibility = "visible";      
          clickButton.style.visibility = "hidden";

          let random = (Math.random()*3000)+1000;
          let randomAni= (Math.random()*7000)+2000;

          roulette.animate([{transform : "rotate(0deg)"},{transform:"rotate("+random +"deg)"}],{fill:"forwards",duration : randomAni, easing :'ease-in-out' }); 
          /*룰렛 이벤트 효과 */
          /*Math 메서드를 통하여 랜덤한 숫자 값을 부여하여 랜덤하게 룰렛의 바퀴수가 돌아가도록 설정하였음*/
          
          

          
          
          roulette.addEventListener("click",function(){
            /*두 번째 클릭 이벤트*/
            /*스위치가 false 이면 true값으로 변경, 영문태그 숨기고 한국어 태그 보이도록 설정*/
            
            if(isSwitch === false){
              
              isSwitch = true;
              roulette.style.visibility = "hidden";
              ballTag.style.display = "flex";  
              
              bodySet.addEventListener("click",function(event){

                let field = this.getBoundingClientRect();

                let ball = {
                  top : event.clientY  - field.top - bodySet.clientTop - ballTag.clientHeight /2,
                  left : event.clientX - field.left - bodySet.clientLeft - ballTag.clientWidth /2
                };

                ballTag.style.left = ball.left + 'px';
                ballTag.style.top = ball.top + 'px';

              })
              /*바디 태그의 넓이와 높이값과 클릭한 지점의 좌표값을 얻어내여 공이 움직이도록 하는 이벤트 설정 아직 완벽하게 작동원리는 이해하지 못했음*/
              
              
              
              ballTag.addEventListener("click",function(){
              /*세 번째 클릭 이번트*/
                if(isSwitch=== true){
                  ballTag.style.display = "none";
                  clickButton.style.visibility = "visible";                  
                } /*스위치 값이 트루면 한국어 태그 숨기고, 버튼 태그 보이도록 설정*/
                /*다시 스위치값이 트루이기 때문에 첫번째 클릭 이벤트 다시 실행 가능 상태!!*/
              })              
            }
          })
        }
      })



    </script>
  
</body>
</html>