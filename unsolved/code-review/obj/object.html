<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
    href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Noto+Sans+KR:wght@100;300;400;500;700&display=swap"
    rel="stylesheet">
  <title>objectPractice</title>
</head>

<body>
  <script>
    function createEle() {
      // body
      let body = document.body;

      // root
      let createRoot = document.createElement('div');
      createRoot.setAttribute("id", "root");
      body.appendChild(createRoot);
      let root = document.getElementById("root");

      // main
      let creatMain = document.createElement('main');
      root.appendChild(creatMain);
      let main = document.querySelector('main');
      // console.log(main);

      // section
      for (let i = 0; i < 2; i++) {
        let createSec = document.createElement('section');
        let creatDiv1 = document.createElement('div');
        let creatDiv2 = document.createElement('div');
        createSec.appendChild(creatDiv1);
        createSec.appendChild(creatDiv2);
        main.appendChild(createSec);
      }
      let section = document.querySelectorAll('section');
      let sec1 = main.children[0];
      let sec2 = main.children[1];
      // section1 title
      let creatDiv1_h2 = document.createElement('h2');
      sec1.children[0].appendChild(creatDiv1_h2);

      // section2
      // section2 sidebar
      let creatDiv_bar = document.createElement('div');
      let creatSpan = document.createElement('span');
      sec2.children[0].appendChild(creatDiv_bar);
      sec2.children[0].appendChild(creatSpan);

      // section2 slide
      for (let i = 0; i < 2; i++) {
        let creatDiv3 = document.createElement('div');
        sec2.children[1].appendChild(creatDiv3);
      }
      sec2.children[1].setAttribute('class', 'slide-container');
      sec2.children[1].children[0].setAttribute('class', 'slide-wrapper');
      sec2.children[1].children[1].setAttribute('class', 'slideBtn');

      for (let i = 0; i < 3; i++) {
        let creatDiv4 = document.createElement('div');
        sec2.children[1].children[0].appendChild(creatDiv4);
        sec2.children[1].children[0].children[i].setAttribute('class', 'slide-ele');
        sec2.children[1].children[0].children[0].classList.add('active');
      }

      let slideEle = [...sec2.children[1].children[0].children];
      slideEle.forEach((val) => {
        let creatDiv5 = document.createElement('div');
        val.appendChild(creatDiv5);
      })

      // slide text
      for (let i = 1; i < 3; i++) {
        let creatSpan2 = document.createElement('span');
        let creatSpan3 = document.createElement('span');
        slideEle[i].children[0].appendChild(creatSpan2);
        slideEle[i].children[0].appendChild(creatSpan3);
      }
      // slide contents
    }
    createEle()
    // ele set end

    const docinit = {
      body: document.body,
      root: document.getElementById("root"),
      main: document.querySelector("main"),
      section: document.querySelectorAll("section")[0],
      section1: document.querySelectorAll("main section:nth-child(1)")[0],
      section1Div1: document.querySelectorAll("main section:nth-child(1) div:nth-child(1)")[0],
      sectionDiv1h2: document.querySelectorAll("main section:nth-child(1) div:nth-child(1) h2")[0],
      section1Div1Circle: document.querySelectorAll("main section:nth-child(1) div:nth-child(2)")[0],
      section1Div2: document.querySelectorAll("main section:nth-child(1) div:nth-child(2)")[0],
      section2: document.querySelectorAll("main section:nth-child(2)")[0],
      section2Div1: document.querySelectorAll("main section:nth-child(2) div:nth-child(1)")[0],
      section2Div1Bar: document.querySelectorAll("main section:nth-child(2) div:nth-child(1) div")[0],
      section2Div1Span: document.querySelectorAll("main section:nth-child(2) div:nth-child(1) span")[0],
      section2SliderContainer: document.querySelectorAll(".slide-container")[0],
      section2SliderWrapper: document.querySelectorAll(".slide-wrapper")[0],
      section2Slide: document.querySelectorAll(".slide-ele"),
      section2SlideFakeBtn: document.querySelectorAll(".slide-wrapper .slide-ele:nth-child(1) div")[0],
      section2Slidediv: document.querySelectorAll(".slide-ele div"),
      section2SlidedivSpan: document.querySelectorAll(".slide-ele div span"),
      section2SlidedivSpan1: document.querySelectorAll(".slide-ele div span:nth-child(1)"),
      section2SliderBtn: document.querySelectorAll(".slideBtn")[0],
    }
    // docinit end

    // style set
    const styleinit = {
      reset: (ele) => {
        ele.style.margin = "0";
        ele.style.padding = "0";
        ele.style.boxSizing = "border-box";
        ele.style.overflowX = "hidden";
        ele.style.fontSize = "10px";
      },
      fontSet: (ele, family = null, size = null, weight = null) => {
        ele.style.fontFamily = family;
        ele.style.fontSize = size;
        ele.style.fontWeight = weight
      },
      container: (ele, w = "auto", h = "auto", bg = null, size = null) => {
        ele.style.width = w;
        ele.style.height = h;
        ele.style.background = bg;
        ele.style.backgroundSize = size;
      },
      flexSet: (ele, direc, justify = null, align = null) => {
        ele.style.display = "flex";
        ele.style.flexDirection = direc;
        ele.style.justifyContent = justify;
        ele.style.alignItems = align;
      },
      posiSet: (ele, state, t = null, r = null, b = null, l = null, zindex = null) => {
        ele.style.position = state;
        ele.style.top = t;
        ele.style.right = r;
        ele.style.bottom = b;
        ele.style.left = l;
        ele.style.zIndex = zindex;
      },
      SlideSet: (ele, opacity, zindex, transform) => {
        ele.style.opacity = opacity;
        ele.style.zindex = zindex;
        ele.style.transform = transform;
      }
    }
    const colorFontset = {
      mainCol: "rgba(186,201,143,1)",
      subCol: "rgba(255,255,255,1)",
      notoSans: "Noto Sans KR, sans-serif",
      gowunBatang: "Gowun Batang,serif"
    }

    function styleele() {
      // body
      styleinit.reset(docinit.body);

      // root
      styleinit.container(docinit.root, "100vw", "100vh");

      // main
      // section1
      styleinit.container(docinit.section1, "auto", "23vh");
      styleinit.flexSet(docinit.section1, "row", "space-between", "center");
      styleinit.posiSet(docinit.section1, "relative", null, null, null, null, "10");
      docinit.section1.style.padding = "0 13vw";
      docinit.section1.style.color = colorFontset.mainCol;
      // sec1 container set end

      // sec1 div1 title
      docinit.sectionDiv1h2.textContent = "SLIDER";
      styleinit.fontSet(docinit.sectionDiv1h2, colorFontset.notoSans, "5vw", "400");
      docinit.sectionDiv1h2.style.letterSpacing = "3.3vw";
      docinit.sectionDiv1h2.paddingTop = "3vw";

      // sec1 div2 circle
      styleinit.container(docinit.section1Div1Circle, "10.2vw", "10.2vw", "url(./img/circle.svg) no-repeat center", "cover");
      styleinit.posiSet(docinit.section1Div1Circle, "relative", "7vw");
      docinit.section1Div1Circle.animate([
        { transform: "rotate(0deg)" },
        { transform: "rotate(360deg)" }
      ], {
        duration: 15000,
        iterations: Infinity
      })
      // section1 end


      // section2
      styleinit.flexSet(docinit.section2, "row", "space-between", "flex-start");
      // sec2 container set end

      // sec2 div1 sidebar
      styleinit.container(docinit.section2Div1, "13vw");
      styleinit.flexSet(docinit.section2Div1, "column", "flex-start", "center");
      styleinit.posiSet(docinit.section2Div1, "relative");
      docinit.section2Div1.style.color = colorFontset.mainCol;

      // decorationbar
      styleinit.container(docinit.section2Div1Bar, "2px", "74vh", "rgba(186,186,186,1)");
      docinit.section2Div1Bar.style.marginBottom = "2vw";

      // indexCount span
      docinit.section2Div1Span.textContent = "Main"
      styleinit.fontSet(docinit.section2Div1Span, colorFontset.notoSans, "1.8vw", "100");
      docinit.section2Div1Span.animate([
        { transform: "translateY(-.5vw)" },
        { transform: "translateY(.5vw)" },
        { transform: "translateY(-.5vw)" }
      ], {
        duration: 1200,
        iterations: Infinity
      })
      // sec2 div1 sidebar end

      // sec2 div2 slider
      styleinit.container(docinit.section2SliderContainer, "87.4vw");
      styleinit.flexSet(docinit.section2SliderContainer, "row", "center", "center");
      styleinit.posiSet(docinit.section2SliderContainer, "relative");
      docinit.section2SliderContainer.style.overflow = "hidden";
      // section2 slider container set end

      styleinit.container(docinit.section2SliderWrapper, "inherit", "89.9vh");
      // section2 slider wrapper set end;

      styleinit.container(docinit.section2SliderBtn, "26vw", "11.3vw");
      styleinit.posiSet(docinit.section2SliderBtn, "absolute", null, null, null, null, "3");
      docinit.section2SliderBtn.style.display = "none";
      setTimeout(() => {
        docinit.section2SliderBtn.style.display = "block";
      }, 1800);
      // slider hidden btn set end

      docinit.section2SlideFakeBtn.textContent = "Click!"
      styleinit.container(docinit.section2SlideFakeBtn, "6vw", "6vw", colorFontset.subCol);
      styleinit.flexSet(docinit.section2SlideFakeBtn, "row", "center", "center");
      styleinit.posiSet(docinit.section2SlideFakeBtn, "absolute");
      styleinit.fontSet(docinit.section2SlideFakeBtn, colorFontset.notoSans, "1.2vw", "100");
      docinit.section2SlideFakeBtn.style.borderRadius = "50%";
      docinit.section2SlideFakeBtn.style.color = colorFontset.mainCol;
      docinit.section2SlideFakeBtn.animate([
        { left: "-30%", transform: "rotate(0deg)" },
        { left: "46%", transform: "rotate(360deg) scale(1.3)" }
      ], {
        duration: 1800,
        fill: "forwards"
      })
      // slider fake btn set end;

      // slide
      let slides = [...docinit.section2Slide];
      docinit.section2Slide.forEach((value) => {
        styleinit.container(value, "inherit", "inherit");
        styleinit.flexSet(value, "column", "center", "center");
        styleinit.posiSet(value, "absolute");
        styleinit.SlideSet(value, "0", "0", "scale(1.4)");
        value.style.transition = "all .5s ease-in-out";
        if (value.classList.contains('active')) {
          styleinit.SlideSet(value, "1", "1", "none");
        }
      })
      slides[0].style.background = colorFontset.mainCol;
      let slideDiv = [...docinit.section2Slidediv];
      for (let i = 1; i < 3; i++) {
        styleinit.fontSet(slides[i], colorFontset.gowunBatang, "1.1vw", null);
        slides[h].style.color = colorFontset.subCol;
        styleinit.container(slides[1], "inherit", "inherit", "url(img/slider_img1.png) no-repeat center", "cover");
        styleinit.container(slides[2], "inherit", "inherit", "url(img/slider_img2.png) no-repeat center", "cover");
        styleinit.flexSet(slideDiv[i], "column", "center", "center");
      }
      slideSpans = [...docinit.section2SlidedivSpan]
      console.log(slideSpans);
      slideSpans[0].textContent = "if all you have a hammer,"
      slideSpans[1].textContent = "everything looks like a nail"
      slideSpans[2].textContent = "가진것이 망치뿐이면,"
      slideSpans[3].textContent = "모든 것이 못으로 보인다."

      docinit.section2SlidedivSpan1.forEach((value) => value.style.marginBottom = "1.4vw");
      // slide set end


      let active = "active"
      let firstSlide = document.querySelector(".slide-ele");
      let sliderBtn = document.querySelector(".slideBtn");
      let count = 0;
      let countarr = ["Again", "English", "Korea"]

      // function

      let slider = () => {
        const currentSlide = document.querySelector(`.${active}`);
        if (currentSlide) {
          // if exist
          currentSlide.classList.remove(active);
          styleinit.SlideSet(currentSlide, "0", "0", "none");

          // pagecount
          count++
          if (count > 2) {
            count = 0;
          }
          docinit.section2Div1Span.textContent = countarr[count];

          const nextSlide = currentSlide.nextElementSibling; // has active ele nextSibling
          if (nextSlide) { // if exist
            nextSlide.classList.add(active);
            styleinit.SlideSet(nextSlide, "1", "1", "scale(1.4)");
          } else {
            firstSlide.classList.add(active);
            styleinit.SlideSet(firstSlide, "1", "1", "scale(1)");
          }
        } else {
          firstSlide.classList.add(active);
        }
      }
      let init = () => {
        sliderBtn.addEventListener("click", slider);//callback
        firstSlide.classList.add(active);
      }//slider initialization

      init();
    }
    styleele();

    //end
  </script>
</body>

</html>