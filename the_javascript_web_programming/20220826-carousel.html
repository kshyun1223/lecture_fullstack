<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="root"></div>
  <script>
    const stylePreset = {
      margin : function(element, margin = '0') {
        element.style.margin = margin;},
      size : function(element, widthValue, heightValue) {
        element.style.width = widthValue;
        element.style.height = heightValue;
      },
      color : function(element, color, backgroundColor) {
        element.style.color = color;
        element.style.backgroundColor = backgroundColor;
      },
      flexBox : function(element, display, justifyContent, alignItems, flexDirection) {
        element.style.display = display;
        element.style.justifyContent = justifyContent;
        element.style.alignItems = alignItems;
        element.style.flexDirection = flexDirection;        
      },
      font : function(element, fontFamily, fontSize) {
        element.style.fontFamily = fontFamily;
        element.style.fontSize = fontSize;
      },
      border : function(element, border, borderRadius) {
        element.style.border = border;
        element.style.borderRadius = borderRadius;
      },
      cursor : function(element, cursor) {
        element.style.cursor = cursor;
      },
      text : function(element, textContent) {
        element.textContent = textContent;
      }
    }

    const root = {
      root : document.getElementById('root'),
      slideItem : ['포켓몬', '포켓몬', '포켓몬', '포켓몬', '포켓몬'],
      text : "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Risus natoque sed orci, ac eget arcu, velturpis sem. Consequat diam mauriselit diam habitant proin nisi, auguelectus. Laoreet quam ut tristiquecursus ipsum. Proin mauris nisiinteger quam vitae aliquam.",
      slideNumber : ["No.1","No.2","No.3","No.4","No.5"]
    }

    console.log(domInit.root);
    console.log(domInit.slideItem);
    
    //body 초기화
    document.body.style.margin = '0';

    // root 스타일링
    domStyling.size(domInit.root, "100vw", "100vh");
    domStyling.flexBox(domInit.root, "flex", "center", "center");


    // container 동적 생성, 스타일링
    const container = document.createElement('div');
    domInit.root.appendChild(container);
    container.id = "container";

    domStyling.size(container, "800px", "50vh");
    domStyling.flexBox(container, "flex", "center", "center", "nowrap");
    domStyling.border(container, "1px solid #333");
    container.style.overflow = "hidden";

    // box 동적 생성, 스타일링
    const box = document.createElement('div');
    container.appendChild(box);
    box.id = "box";

    domStyling.size(box, "100%", "50vh");
    domStyling.flexBox(box, "flex", "left", "center", "nowrap");



    //***화살표 동적 생성, 스타일링

    const moveArrowL = document.createElement('span');
    const moveArrowR = document.createElement('span');
    domInit.root.append(moveArrowL, moveArrowR);

    const moveArrowAll = document.querySelectorAll('#root>span'); 
    //화살표 공통
      for(let i = 0; i < moveArrowAll.length; i++){
        moveArrowAll[i].style.position = 'absolute';
        domStyling.font(moveArrowAll[i], 'none', '3em');
      }

        //왼쪽 화살표
        moveArrowL.id = 'arrowL';
        moveArrowL.textContent = '<';
        moveArrowL.style.left = '100px'; 

        //오른쪽 화살표
        moveArrowR.id = 'arrowR';
        moveArrowR.textContent = '>';
        moveArrowR.style.right = '100px'; 

    

    // 캐러셀 동적 생성
    let colorList = ["#FFB6C1", "#FAEB78", "#46B4B4", "#AAEBAA", "#87CEFA"];

    function setCarousel() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        carousel = document.createElement('div');
        domStyling.size(carousel, "200px", "400px");
        domStyling.flexBox(carousel, "flex", "center", "center", "column");
        box.appendChild(carousel);
      }
    }
    setCarousel();
    const carousels = document.querySelectorAll('#box > div');
    console.dir(carousels);

    function carouselContent() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        card = document.createElement('div');
        title = document.createElement('div');
        text = document.createElement('div');
        domStyling.size(card, "200px", "200px");
        card.style.backgroundColor = colorList[i];
        domStyling.text(title, domInit.slideItem[i]);
        domStyling.text(card, domInit.slideNumber[i]);
        domStyling.size(title, "200px", "50px");
        domStyling.text(title, domInit.slideItem[i]);
        domStyling.size(text, "200px", "150px");
        domStyling.text(text, domInit.text);
        carousels[i].appendChild(card);
        carousels[i].appendChild(title);
        carousels[i].appendChild(text);
        
        
      }
    }
    carouselContent();
    
    console.log(carousels.length); //5
    
    // moving event 
    let counter = 1; 
    const carouselSize = carousels[0].clientWidth;
    box.style.transform = 'translateX(' + (-carouselSize * counter) + 'px)';
    
    moveArrowL.addEventListener('click', function(){
      if(counter >= carousels.length-1) return;
      box.style.transition = "transform 0.4s ease-in-out";
      counter++;
      box.style.transform = 'translateX(' + (-carouselSize * counter) + 'px)';
      });
    
      moveArrowR.addEventListener('click', function(){
      if(counter <= 0) return;
      box.style.transition = "transform 0.4s ease-in-out";
      counter--;
      box.style.transform = 'translateX(' + (-carouselSize * counter) + 'px)';
      });

    
    

  </script>
</body>
</html>