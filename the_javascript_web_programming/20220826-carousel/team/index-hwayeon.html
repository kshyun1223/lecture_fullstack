<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="root"></div>
  <script>
    // Pokemon API
    // const _BASIC_URL = `https://pokeapi.co/api/v2/pokemon/`;
    // const request = new XMLHttpRequest();
    //   request.open("GET", _BASIC_URL);
    //   request.responseType = "json";
    //   request.send();
    //   request.addEventListener('load', () => {
    //     const _POKEMON_API = request.response;
    //     console.log(_POKEMON_API);
    //   });
    

    
    /* 문서 스타일링 프리셋 */
    const domStyling = {
      size : function(element, widthValue, heightValue) {
        element.style.width = widthValue;
        element.style.height = heightValue;
      },
    
      color : function(element, color, backgroundColor) {
        element.style.color = color;
        element.style.backgroundColor = backgroundColor;
      },

      flexBox : function(element, display, justifyContent, alignItems, flexFlow) {
        element.style.display = display;
        element.style.justifyContent = justifyContent;
        element.style.alignItems = alignItems;
        element.style.flexFlow = flexFlow;        
      },

      font : function(element, fontFamily, fontSize) {
        element.style.fontFamily = fontFamily;
        element.style.fontSize = fontSize;
      },

      border : function(element, border, borderRadius) {
        element.style.border = border;
        element.style.borderRadius = borderRadius;
      },

      cursor : function(element, cursor) {
        element.style.cursor = cursor;
      },

      text : function(element, textContent) {
        element.textContent = textContent;
      }
    }

    /* #root */
    const domInit = {
      root : document.getElementById('root'),
      slideItem : ['포켓몬', '포켓몬', '포켓몬', '포켓몬', '포켓몬','포켓몬'],
      text : "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Risus natoque sed orci, ac eget arcu, velturpis sem. Consequat diam mauriselit diam habitant proin nisi, auguelectus. Laoreet quam ut tristiquecursus ipsum. Proin mauris nisiinteger quam vitae aliquam.",
      /* 제어용 배열 */
      slideNumber : ["No.1","No.2","No.3","No.4","No.5","No.6"]
    }
    console.log(domInit.root);
    console.log(domInit.slideItem);

    
    /* 배열 바뀌는 함수 */ // 버튼에 연동시켜주세용... 유ㅁ유;;
    // 이전으로
    arrayPrev = function() {
    domInit.slideNumber.shift();
    domInit.slideNumber.push("No.7");
    }
    // 다음으로
    arrayNext = function() {
    domInit.slideNumber.unshift("No.0");
    domInit.slideNumber.pop();
    }
    
    // root 스타일링
    domStyling.size(domInit.root, "100vw", "100vh");
    domStyling.flexBox(domInit.root, "flex", "center", "center");



    /* #box (#root > #box) */
    const box = document.createElement('div');
    domInit.root.appendChild(box);
    box.id = "box";

    domStyling.size(box, "80vw", "50vh");
    domStyling.flexBox(box, "flex", "left", "center", "nowrap");
    domStyling.border(box, "1px solid #333");
    box.style.overflow = "hidden";

    console.dir(box);



    /* 캐러셀 */
    // 색상 스타일링용 배열
    let colorList = ["#FFB6C1", "#FAEB78", "#46B4B4", "#AAEBAA", "#87CEFA", "#87CE00"];

    // 캐러셀 컨테이너 (#root > #box > div)
    function setCarousel() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        carousel = document.createElement('div');
        domStyling.size(carousel, box.clientWidth/5 + "px", box.style.height );
        domStyling.flexBox(carousel, "flex", "center", "center", "column");
        carousel.style.padding = "10px";
        box.appendChild(carousel);
      }
    }
    setCarousel();
    const carousels = document.querySelectorAll('#box > div');
    console.dir(carousels);

    // 캐러셀 (#root > #box > div > div)
    function carouselContent() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        card = document.createElement('div');
        title = document.createElement('div');
        text = document.createElement('div');
        domStyling.size(card, box.clientWidth/5 + "px", box.clientHeight/2 + "px");
        card.style.backgroundColor = colorList[i];
        domStyling.text(title, domInit.slideItem[i]);
        domStyling.text(card, domInit.slideNumber[i]);
        domStyling.size(title, box.clientWidth/5 + "px", box.clientHeight/10 + "px");
        domStyling.text(title, domInit.slideItem[i]);
        domStyling.size(text, box.clientWidth/5 + "px", box.clientHeight/4 + "px");
        domStyling.text(text, domInit.text);
        text.style.fontSize = "0.8rem";
        carousels[i].appendChild(card);
        carousels[i].appendChild(title);
        carousels[i].appendChild(text);
      }
    }
    carouselContent();

    /* 화살표 */
    // 화살표 스타일링
    const prevBtn = document.createElement('button');
    const nextBtn = document.createElement("button"); 

    prevBtn.style.position = "absolute";
    domStyling.size(prevBtn, "50px", "50px");
    prevBtn.style.marginRight = "90vw";

    nextBtn.style.position = "absolute";
    domStyling.size(nextBtn, "50px", "50px");
    nextBtn.style.marginLeft = "90vw";

    domInit.root.appendChild(prevBtn);
    domInit.root.appendChild(nextBtn);

    
    // 왼쪽 화살표 애니메이션
    function slideNext() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        carousels[i].style.transform = "translate(-270px)";
        console.log("next")
      }
    }

    // 오른쪽 화살표 애니메이션
    function slidePrev() {
      for(i = 0; i < domInit.slideItem.length; i++) {
        carousels[i].style.transform = "translate(0px)";
        console.log("previous")
      }
    }

    // 화살표 애니메이션 콜백
    function addEvent() {
      prevBtn.addEventListener('click', slidePrev);
      nextBtn.addEventListener('click', slideNext);
    }

    addEvent();



  </script>
</body>
</html>